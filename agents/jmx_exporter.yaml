lowercaseOutputName: true
lowercaseOutputLabelNames: true
rules:
  - pattern: kafka.(.+)<type=(.+), client-id=(.+)><>([a-z-]+)
    name: kafka_$2_$4
    labels:
      clientId: "$3"
  - pattern: kafka.(.+)<type=(.+), client-id=(.+), topic=(.+)><>([a-z-]+)
    name: kafka_$2_$5
    labels:
      clientId: "$3"
      topic: "$4"
  - pattern: kafka.(.+)<type=(.+), client-id=(.+), topic=(.+), partition=(.+)><>([a-z-]+)
    name: kafka_$2_$6
    labels:
      clientId: "$3"
      topic: "$4"
      partition: "$5"
  - pattern: kafka.(.+)<type=(.+), client-id=(.+), node-id=(.+)><>([a-z-]+)
    name: kafka_$2_$5
    labels:
      clientId: "$3"
      nodeId: "$4"

  - pattern: kafka.(.+)<type=(.+), thread-id=(.+)><>([a-z-]+)
    name: kafka_$2_$4
    labels:
      threadId: "$3"
  - pattern: kafka.(.+)<type=(.+), thread-id=(.+), task-id=(.+)><>([a-z-]+)
    name: kafka_$2_$5
    labels:
      threadId: "$3"
      taskId: "$4"
  - pattern: kafka.(.+)<type=(.+), thread-id=(.+), task-id=(.+), processor-node-id=(.+)><>([a-z-]+)
    name: kafka_$2_$6
    labels:
      threadId: "$3"
      taskId: "$4"
      processorNodeId: "$5"
  - pattern: kafka.(.+)<type=(.+), thread-id=(.+), task-id=(.+), record-cache-id=(.+)><>([a-z-]+)
    name: kafka_$2_$6
    labels:
      threadId: "$3"
      taskId: "$4"
      recordCacheId: "$5"
  - pattern: kafka.(.+)<type=(.+), thread-id=(.+), task-id=(.+), in-memory-state-id=(.+)><>([a-z-]+)
    name: kafka_$2_$6
    labels:
      threadId: "$3"
      taskId: "$4"
      inMemoryStateId: "$5"
  - pattern: kafka.(.+)<type=(.+), thread-id=(.+), task-id=(.+), in-memory-lru-state-id=(.+)><>([a-z-]+)
    name: kafka_$2_$6
    labels:
      threadId: "$3"
      taskId: "$4"
      inMemoryLruStateId: "$5"
  - pattern: kafka.(.+)<type=(.+), thread-id=(.+), task-id=(.+), in-memory-window-state-id=(.+)><>([a-z-]+)
    name: kafka_$2_$6
    labels:
      threadId: "$3"
      taskId: "$4"
      inMemoryWindowStateId: "$5"
  - pattern: kafka.(.+)<type=(.+), thread-id=(.+), task-id=(.+), in-memory-suppression-id=(.+)><>([a-z-]+)
    name: kafka_$2_$6
    labels:
      threadId: "$3"
      taskId: "$4"
      inMemorySuppressionId: "$5"
  - pattern: kafka.(.+)<type=(.+), thread-id=(.+), task-id=(.+), rocksdb-state-id=(.+)><>([a-z-]+)
    name: kafka_$2_$6
    labels:
      threadId: "$3"
      taskId: "$4"
      rocksdbStateId: "$5"
  - pattern: kafka.(.+)<type=(.+), thread-id=(.+), task-id=(.+), rocksdb-window-state-id=(.+)><>([a-z-]+)
    name: kafka_$2_$6
    labels:
      threadId: "$3"
      taskId: "$4"
      rocksdbWindowStateId: "$5"
  - pattern: kafka.(.+)<type=(.+), thread-id=(.+), task-id=(.+), rocksdb-session-state-id=(.+)><>([a-z-]+)
    name: kafka_$2_$6
    labels:
      threadId: "$3"
      taskId: "$4"
      rocksdbSessionStateId: "$5"
